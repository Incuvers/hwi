---
version: 1
disable_existing_loggers: false
loggers:
  hwi.alink:
    level: 'DEBUG'
    handlers: ['consoleHandler']
    propagate: false
  hwi.icb:
    level: 'DEBUG'
    handlers: ['consoleHandler']
    propagate: false
  hwi.rmq:
    level: 'DEBUG'
    handlers: ['consoleHandler']
    propagate: false
  hwi.microscope:
    level: 'DEBUG'
    handlers: ['consoleHandler']
    propagate: false
  pika:
    level: 'DEBUG'
    handlers: ['consoleHandler']
    propagate: false

handlers:
  # msHandler:
  #   level: 'DEBUG'
  #   class: 'logging_loki.LokiHandler'
  #   formatter: default
  #   filename: ${HWI_LOGS}/ms.log
  #   mode: 'a'
  #   maxBytes: 1000000
  #   backupCount: 5
  # rmqHandler:
  #   level: 'DEBUG'
  #   class: 'logging.handlers.RotatingFileHandler'
  #   formatter: default
  #   filename: ${HWI_LOGS}/rmq.log
  #   mode: 'a'
  #   maxBytes: 1000000
  #   backupCount: 5
  # icbHandler:
  #   level: 'DEBUG'
  #   class: 'logging.handlers.RotatingFileHandler'
  #   formatter: default
  #   filename: ${HWI_LOGS}/icb.log
  #   mode: 'a'
  #   maxBytes: 1000000
  #   backupCount: 5
  # alinkHandler:
  #   level: 'DEBUG'
  #   class: 'logging.handlers.RotatingFileHandler'
  #   formatter: default
  #   filename: ${HWI_LOGS}/alink.log
  #   mode: 'a'
  #   maxBytes: 1000000
  #   backupCount: 5
  consoleHandler:
    level: 'DEBUG'
    class: 'logging_loki.LokiHandler'
    url: 'http://grafana:3000/loki/api/v1/push'
    version: "1"
    # auth: [ "admin", "incuvers" ]
    tags:
      application: hwi
    formatter: default

formatters:   # more commment
  default:
    format: '%(created)f %(threadName)s %(name)s line:%(lineno)d - %(levelname)s: %(message)s'
